= Lisk Framework
Mona Bärenfänger <mona@lightcurve.io>
:description: The Lisk Framework overview provides a high-level synopsis of the Lisk Framework architecture, including its modules and components, how they communicate, and also how to change the default configuration.
//:page-aliases: lisk-framework/index.adoc
:toc: preamble
:v_core: 3.0.0
:imagesdir: ../../assets/images
:page-no-next: true
:page-previous: /lisk-sdk/references/lisk-elements/index.html
:page-previous-title: Lisk Elements

:url_github_lip05: https://github.com/LiskHQ/lips/blob/master/proposals/lip-0005.md
:url_github_lip11: https://github.com/LiskHQ/lips/blob/master/proposals/lip-0011.md

:url_reference_config: references/config.adoc

:url_core_reference_config: {v_core}@lisk-core::reference/config.adoc
:url_guides_config: guides/app-development/configuration.adoc

image:banner_framework.png[Logo]


== Application

.Properties and functions of the Application class
[source,typescript]
----
interface Application {
    registerModule: (moduleClass: typeof BaseModule) => void;
    registerPlugin: (pluginClass: typeof BasePlugin) => void;
    // run starts the application
    run: () => Promise<void>;
    // shutdown stops the application with given code and message
    shutdown: (errorCode: number, message: string) => Promise<void>
    // networkIdentifer used to sign block and transactions
    networkIdentifier: Buffer;
    // getSchema returns all schema definitions that are registered to the application
    // Schema is a type defined by codec, which is a Lisk JSON schema
    getSchema: () => {
        account: Schema;
        Block: Schema;
        blockHeader: Schema;
        blockHeaderAssets: { [blockVersion: number]: Schema };
        transaction: Schema;
        transactionsAssets: {
            moduleID: number;
            moduleName: string;
            assetID: number;
            assetName: string;
            schema: Schema;
        }
    }
}
----

== The BaseModule

.Schema of the BaseModule
[source,js]
----
// BaseModule to be extended per module
class BaseModule {
  public name: string;
  public id: number;
  // Optional. List of transaction assets for this module
  public transactionAssets: BaseAsset[];
  // Optional. Schema of account asset to be used in this module
  public accountSchema?: Schema;
  // Optional. Set of actions which can be called from framework
  public actions?: Map<string, ActionHandler>;
  // Optional. Set of events name that will be emitted from this module
  public events?: string[];
  // Optional. Set of actions which can be called from other modules during the block processing
  public reducers?: Map<string, ReduceHandler>;
  // Optional. A function which will be called for all transactions regardless of modules.
  public beforeTransactionApply?: ({tx: Transaction, stateStore: StateStore, moduleAccess}) => void;
  // Optional. A function which will be called for all transactions regardless of modules.
  public afterTransactionApply?: ({tx: Transaction, stateStore: StateStore, moduleAccess}) => void;
  // Optional. A function which will be called while applying genesis block
  public afterGenesisBlockApply?: ({block: GenesisBlock, stateStore: StateStore, consensus: Consensus, moduleAccess}) => void;
  // Optional. A function which will be called in sequence at beforeBlockApply step
  public beforeBlockApply?: ({block: Block, stateStore: StateStore, moduleAccess}) => void;
  // Optional. A function which will be called in sequence at afterBlockApply step
  public afterBlockApply?: ({block: Block, stateStore: StateStore, consensus: Consensus, moduleAccess}) => void;
}

----

