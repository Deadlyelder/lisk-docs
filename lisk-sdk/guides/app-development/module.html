<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating a custom module - Lisk  SDK  Docs</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-sdk/guides/app-development/module.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
      <link rel="stylesheet" href="../../../_/css/vendor/docsearch.min.css">
      <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<script data-cookieconsent="ignore" type="text/javascript" id="GTM">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({"gtm.start":
          new Date().getTime(),event:"gtm.js"});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!="dataLayer"?"&amp;l="+l:"";j.async=true;
  j.crossOrigin="anonymous";j.src=
          "https://www.googletagmanager.com/gtm.js?id="+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,"script","dataLayer","GTM-NKNKGHL");</script>

<script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io" title="Lisk.io" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">SDK</strong>
                        </span>
          <div class="top-versions page-versions">
  <button class="version-menu-toggle top-version-menu-toggle" title="Show other versions of page">5.0.5 (latest)</button>
  <div class="version-menu">
    <a class="version is-current" href="module.html">5.0.5 (latest)</a>
    <a class="version is-missing" href="../../v4/index.html">4.0.0</a>
    <a class="version is-missing" href="../../v3/index.html">3.0.2</a>
    <a class="version is-missing" href="../../v2/index.html">2.3.8</a>
  </div>
</div>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Documentations</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/">Lisk Service</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Resources</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href=""><strong>Lisk Service API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/references/api.html">Mainnet</a>
                <a class="navbar-item" href=""><strong>Lisk Core HTTP API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/v3/reference/api.html">Betanet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api.html">Testnet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api-mainnet.html">Mainnet</a>
                <hr class="navbar-divider">
                <a class="navbar-item" href=""><strong>Lisk Network Explorer</strong></a>
                <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Testnet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Mainnet<i class="icofont-external-link"></i></a>
              </div>
            </div>
          </div>
            <div class="navbar-menu search-box hide-for-print">
              <input id="search-input" type="text" placeholder="Search">
            </div>
        </div>
        <div class="navbar-item navbar-right">
<!--
          <a href="https://lisk.chat" title="Lisk Chat" target="_blank" class="footer__icon icon-discord-2x"></a>
-->
          <a href="https://github.com/LiskHQ" title="Lisk GitHub" target="_blank" class="footer__icon icon-github-2x"></a>
          <span class="control">
            <a class="button is-primary" target="_blank" title="Lisk Dev Forum" href="https://dev.lisk.io/">Get help</a>
          </span>
        </div>
      </div>
  </nav>
</header>
<div class="body-container">
  <div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../index.html">What is the Lisk SDK?</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../quickstart.html">Quickstart</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../architecture/index.html">Architectural overview</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../architecture/on-chain-architecture.html">On-chain architecture</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../architecture/off-chain-architecture.html">Off-chain architecture</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../architecture/communication-architecture.html">Communication Architecture</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Development guides</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="setup.html">Starting a blockchain application</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="configuration.html">Configuring a blockchain application</a>
  </li>
  <li class="nav-item is-current-page single-page" data-depth="2">
    <a class="nav-link" href="module.html">Creating a custom module</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="asset.html">Creating a custom asset</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="plugin.html">Creating a custom plugin</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="genesis-block.html">Generating a genesis block</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="frontend.html">Communicating with a frontend</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Management guides</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../node-management/non-forging-node-protection.html">Protecting a non-forging node</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../node-management/forging-node-protection.html">Protecting a forging node</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../node-management/forging.html">Enabling forging</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../node-management/logging.html">Managing logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../tutorials/index.html">Tutorials overview</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../tutorials/hello-world.html">Hello World</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../tutorials/nft.html">Non-fungible token (NFT)</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../tutorials/srs.html">Social Recovery System (SRS)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../references/schemas.html">Schemas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk Commander</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/index.html">What is Lisk Commander?</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/commands.html">Commands</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk Elements</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/index.html">What is Lisk Elements?</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/api-client.html">API client</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/bft.html">BFT</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/chain.html">Chain</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/client.html">Client</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/codec.html">Codec</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/cryptography.html">Cryptography</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/db.html">DB</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/genesis.html">Genesis</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/p2p.html">P2P</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/passphrase.html">Passphrase</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/transaction-pool.html">Transaction pool</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/tree.html">Tree</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/utils.html">Utils</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/validator.html">Validator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk Framework</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-framework/index.html">Framework interfaces</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../rpc-endpoints.html">RPC endpoints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Default modules</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../token-module.html">Token module</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../sequence-module.html">Sequence module</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../keys-module.html">Keys module</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../dpos-module.html">DPoS module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Default plugins</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../references/lisk-framework/http-api-plugin.html">HTTP API plugin</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../references/lisk-framework/forger-plugin.html">Forger plugin</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../references/lisk-framework/report-misbehavior-plugin.html">Report misbehavior plugin</a>
  </li>
  <li class="nav-item single-page" data-depth="4">
    <a class="nav-link" href="../../references/lisk-framework/monitor-plugin.html">Monitor plugin</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../references/glossary.html">Glossary and Abbreviations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk protocol</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/index.html">What is the Lisk protocol?</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/accounts.html">Accounts</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/blocks.html">Blocks</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/consensus-algorithm.html">Consensus algorithm</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/network.html">Network</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">5.0.5 (latest)</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">2.1.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v3/index.html">3.0.0-beta.6</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v3-beta.1/index.html">3.0.0-beta.1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">5.0.5 (latest)</a>
        </li>
        <li class="version">
          <a href="../../v4/index.html">4.0.0</a>
        </li>
        <li class="version">
          <a href="../../v3/index.html">3.0.2</a>
        </li>
        <li class="version">
          <a href="../../v2/index.html">2.3.8</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-service/index.html">0.2.0 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" title="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Lisk SDK</a></li>
    <li>Development guides</li>
    <li><a href="module.html">Creating a custom module</a></li>
  </ul>
</nav>
  <div class="page-versions toolbar-versions">
  <button class="version-menu-toggle" title="Show other versions of page">5.0.5 (latest)</button>
  <div class="version-menu">
    <a class="version is-current" href="module.html">5.0.5 (latest)</a>
    <a class="version is-missing" href="../../v4/index.html">4.0.0</a>
    <a class="version is-missing" href="../../v3/index.html">3.0.2</a>
    <a class="version is-missing" href="../../v2/index.html">2.3.8</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-sdk/modules/ROOT/pages/guides/app-development/module.adoc"><i class="icofont-ui-edit"></i>Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Creating a custom module</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide explains step-by-step, how to create a custom module for a blockchain application built with the Lisk SDK.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Prerequisites</div>
<div class="paragraph">
<p>To follow this guide, the following criteria is assumed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a basic blockchain application is already initiated as explained in the previous guide <a href="setup.html" class="page">Starting a blockchain application</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>First, create a new file named after the new module, for example <code>my-module.js</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>├── blockchain_app
│   ├── index.js
│   ├── my-module.js
│   └── package.json</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-module-class"><a class="anchor" href="#creating-the-module-class"></a>1. Creating the module class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now open <code>my-module.js</code> and import the <code>BaseModule</code> from the <code>lisk-sdk</code> package:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { BaseModule } = require('lisk-sdk');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, define a new class <code>MyModule</code>, which extends from the <code>BaseModule</code>:</p>
</div>
<div class="paragraph">
<p>Inside of the <code>myModule</code> class, define the different properties of the module:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>id</code>(number)</dt>
<dd>
<p>The ID of the module.
Must be unique in the application.
The ID is used for example during the creation of transactions of the module.
Minimum value is <code>1024</code>.</p>
</dd>
<dt class="hdlist1"><code>name</code>(string)</dt>
<dd>
<p>The name of the module.
Must be unique in the application.
The name is used for example to subscribe to events, or to invoke actions of the module.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { BaseModule } = require('lisk-sdk');

class MyModule extends BaseModule {
  id = 1024;
  name = 'myModule';
}

module.exports = { MyModule };</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="defining-the-account-schema"><a class="anchor" href="#defining-the-account-schema"></a>2. Defining the account schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The account schema defines which properties are added to user accounts by the module.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more information about schemas and how they are used in the Lisk SDK, check out the <a href="../../references/schemas.html" class="page">Schemas</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The new properties will be added under a key that is named after the module name.
The module-specific properties for every account are saved inside this key.</p>
</div>
<div class="paragraph">
<p>To achieve a better overview, it is recommended to create a new file <code>schemas.js</code>, which will export the account schema for our new module:</p>
</div>
<div class="listingblock">
<div class="title">schemas.js</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const myAccountSchema = {
  // Root type must be type object
  type: "object",
  // Properties for the object
  properties: {
    key1: {
      dataType: "string",
      fieldNumber: 1,
    },
    key2: {
      dataType: "boolean",
      fieldNumber: 2,
    },
    key3: {
      dataType: "uint64",
      fieldNumber: 3,
    }
  },
  // Default values for the different properties
  default: {
    key1 : "",
    key2 : false,
    key3 : 0
  }
}

module.exports = {
  myAccountSchema
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now include the schema in the module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { BaseModule } = require('lisk-sdk');
const { myAccountSchema } = require('./schemas.js'); <i class="conum" data-value="1"></i><b>(1)</b>

class MyModule extends BaseModule {
  id = 1024;
  name = 'myModule';
  accountSchema = myAccountSchema; <i class="conum" data-value="2"></i><b>(2)</b>
}

module.exports = { MyModule };</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Require the schema.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the <code>accountSchema</code> of the module to the imported schema.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-transaction-assets-to-the-module"><a class="anchor" href="#adding-transaction-assets-to-the-module"></a>3. Adding transaction assets to the module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A module can include various custom transaction assets, that provide new transaction types to the application.</p>
</div>
<div class="paragraph">
<p>Before a new asset can be added, it is first required to create the custom asset as described in the <a href="asset.html" class="page">Creating a custom asset</a> guide.</p>
</div>
<div class="paragraph">
<p>Assuming an asset <code>myAsset</code> has been created for the module, then it can be included as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { BaseModule } = require('lisk-sdk');
const { myAccountSchema } = require('./schemas.js');
const { MyAsset } = require('./my-asset.js');

class MyModule extends BaseModule {
  id = 1024;
  name = 'myModule';
  accountSchema = myAccountSchema;
  transactionAssets = [ new myAsset() ];
}

module.exports = { MyModule };</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-an-interface-by-providing-reducers-actions-and-events"><a class="anchor" href="#adding-an-interface-by-providing-reducers-actions-and-events"></a>4. Adding an interface by providing reducers, actions and events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each module allows the user to define certain reducers, actions, and events which provide the module with an interface, that allows other modules and plugins or external services to interact with the module.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See the <a href="../../rpc-endpoints.html" class="page">RPC endpoints</a> page for more information.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>events</code></dt>
<dd>
<p>A list of events this module emits.
Plugins and external services can subscribe to these events with the API client.</p>
</dd>
<dt class="hdlist1"><code>actions</code></dt>
<dd>
<p>A list of actions that plugins and external services can invoke via the API client.</p>
</dd>
<dt class="hdlist1"><code>reducers</code></dt>
<dd>
<p>A list of actions that other modules of the application can invoke.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { BaseModule } = require('lisk-sdk');
const { myAccountSchema } = require('./schemas.js');

class MyModule extends BaseModule {
  id = 1024;
  name = 'myModule';
  accountSchema = myAccountSchema;
  transactionAssets = [];
  actions = {
    myAction: async () =&gt; {
        // Returns some data
    },
    anotherAction: async (params) =&gt; {
        // Returns some other data
    }
  };
  events = ['myEvent','anotherEvent'];
  reducers = {
    myReducer: async (params, stateStore) =&gt; {
      // Returns some data
    },
    anotherReducer: async (params, stateStore) =&gt; {
      // Returns some other data
    }
  };
}

module.exports = { MyModule };</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>What events, actions and reducers are used within a module, or if these interfaces are actually required at all, will be a specific individual requirement for every module; as it is heavily dependant on which functionality the module intends to provide to the application.</p>
</div>
<div class="paragraph">
<p>The best way to understand the necessary requirements here is to look at existing examples in the Lisk SDK default modules, or examples of other blockchain applications built with the Lisk SDK, for example the <a href="../../tutorials/hello-world.html" class="page">Hello World</a> application.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="data-access-for-actions"><a class="anchor" href="#data-access-for-actions"></a>4.1. Data access for actions</h3>
<div class="paragraph">
<p>Blockchain data can be accessed in a module via <code>this._dataAccess</code>.</p>
</div>
<div class="paragraph">
<p>The data access is only used in the implementation of the actions to retrieve certain information from the blockchain.</p>
</div>
<div class="listingblock">
<div class="title">Interface of <code>dataAccess</code></div>
<div class="content">
<pre>interface dataAccess {
    getChainState: async (key: string) =&gt; Buffer,
    getAccountByAddress: async &lt;T = AccountDefaultProps&gt;(address: Buffer) =&gt; Account,
    getLastBlockHeader: async () =&gt; BlockHeader
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="defining-the-lifecycle-hooks"><a class="anchor" href="#defining-the-lifecycle-hooks"></a>5. Defining the lifecycle hooks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lifecycle hooks allow a module to execute certain logic, before or after blocks or transactions are applied to the blockchain.</p>
</div>
<div class="paragraph">
<p>Inside of the lifecycle hooks, it&#8217;s possible to <strong>publish</strong> the above defined events to the application and to filter for certain transactions and blocks, before applying the logic.</p>
</div>
<div class="paragraph">
<p>The following lifecycle hooks are available for each module:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>beforeTransactionApply()</code></dt>
<dd>
<p>The code here is applied before each transaction is applied.</p>
</dd>
<dt class="hdlist1"><code>afterTransactionApply()</code></dt>
<dd>
<p>The code here is applied after each transaction is applied.</p>
</dd>
<dt class="hdlist1"><code>afterGenesisBlockApply()</code></dt>
<dd>
<p>The code here is applied after the genesis block is applied.</p>
</dd>
<dt class="hdlist1"><code>beforeBlockApply()</code></dt>
<dd>
<p>The code here is applied before each block is applied.</p>
</dd>
<dt class="hdlist1"><code>afterBlockApply()</code></dt>
<dd>
<p>The code here is applied after each block is applied.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="lifecycle-hooks"><a class="anchor" href="#lifecycle-hooks"></a>5.1. Lifecycle hooks</h3>
<div class="listingblock">
<div class="title">Lifecycle hooks example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { BaseModule } = require('lisk-sdk');
const { myAccountSchema } = require('./schemas.js');

class MyModule extends BaseModule {
  id = 1024;
  name = 'myModule';
  accountSchema = myAccountSchema;
  transactionAssets = [];
  actions = {
    myAction: async () =&gt; {
        // Returns some data
    },
    anotherAction: async (params) =&gt; {
        // Returns some other data
    }
  };
  events = ['myEvent','anotherEvent'];
  reducers = {
    myReducer: async (params, stateStore) =&gt; {
      // Returns some data
    },
    anotherReducer: async (params, stateStore) =&gt; {
      // Returns some other data
    }
  };
  async beforeTransactionApply({transaction, stateStore, reducerHandler}) {
    // Code in here is applied before each transaction is applied.
  };

  async afterTransactionApply({transaction, stateStore, reducerHandler}) {
    // Code in here is applied after each transaction is applied.
    /*if (transaction.moduleID === this.id &amp;&amp; transaction.assetID === MyAssetID) {

      const myAsset = codec.decode(
        myAssetSchema,
        transaction.asset
      );

      this._channel.publish('my-module:myEvent', {
        sender: transaction._senderAddress.toString('hex')
      });
    }*/
  };
  async afterGenesisBlockApply({genesisBlock, stateStore, reducerHandler}) {
    // Code in here is applied after the genesis block is applied.
  };
  async beforeBlockApply({block, stateStore, reducerHandler}) {
    // Code in here is applied before each block is applied.
  }
  async afterBlockApply({block, stateStore, reducerHandler, consensus}) {
    // Code in here is applied after each block is applied.
  }
}

module.exports = { MyModule };</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="statestore"><a class="anchor" href="#statestore"></a>5.2. stateStore</h3>
<div class="paragraph">
<p>The <code>stateStore</code> is used to mutate the state of the blockchain data, or to retrieve data from the blockchain.</p>
</div>
<div class="paragraph">
<p>Inside of a module, the <code>stateStore</code> is available for reducers and all lifecycle hooks.</p>
</div>
<div class="listingblock">
<div class="title">Interface of <code>stateStore</code></div>
<div class="content">
<pre>interface StateStore {
	readonly account: {
		get&lt;T = AccountDefaultProps&gt;(address: Buffer): Promise&lt;Account&lt;T&gt;&gt;;
		getOrDefault&lt;T = AccountDefaultProps&gt;(address: Buffer): Promise&lt;Account&lt;T&gt;&gt;;
		set&lt;T = AccountDefaultProps&gt;(address: Buffer, updatedElement: Account&lt;T&gt;): Promise&lt;void&gt;;
		del(address: Buffer): Promise&lt;void&gt;;
	};
	readonly chain: {
		lastBlockHeaders: ReadonlyArray&lt;BlockHeader&gt;;
		lastBlockReward: bigint;
		networkIdentifier: Buffer;
		get(key: string): Promise&lt;Buffer | undefined&gt;;
		set(key: string, value: Buffer): Promise&lt;void&gt;;
	};
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reducerhandler"><a class="anchor" href="#reducerhandler"></a>5.3. reducerHandler</h3>
<div class="paragraph">
<p>Reducers of other modules can be <strong>invoked</strong> inside of the lifecycle hooks via the <code>reducerHandler</code>.</p>
</div>
<div class="listingblock">
<div class="title">Interface of <code>reducerHandler</code></div>
<div class="content">
<pre>interface ReducerHandler {
	invoke: &lt;T = unknown&gt;(name: string, params?: Record&lt;string, unknown&gt;) =&gt; Promise&lt;T&gt;;
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="registering-the-module-with-the-application"><a class="anchor" href="#registering-the-module-with-the-application"></a>6. Registering the module with the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The final requirement is to register the newly created module in the application:</p>
</div>
<div class="listingblock">
<div class="title">index.js</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const { Application, genesisBlockDevnet, configDevnet } = require('lisk-sdk');
const { MyModule } = require('./my-module.js');

// Update genesis block accounts to include the config options of myModule
genesisBlockDevnet.header.asset.accounts = genesisBlockDevnet.header.asset.accounts.map(
  (a) =&gt;
    utils.objects.mergeDeep({}, a, {
      myModule: {
        key1 : "",
        key2 : false,
        key3 : 0
      },
    }),
);

// Set a custom label for the bblockchain app
configDevnet.label = 'my-app';

const app = Application.defaultApplication(genesisBlockDevnet, configDevnet);

app.registerModule(MyModule);

app
	.run()
	.then(() =&gt; app.logger.info('App started...'))
	.catch(error =&gt; {
		console.error('Faced error in application', error);
		process.exit(1);
	});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now save and close <code>index.js</code>.
The new module <code>MyModule</code> will now be available, the next time the application is started with <code>node index.js</code>.</p>
</div>
</div>
</div>
    <div class="bottom-links">
    <div>
      <a class="bottom-link" href="/documentation/lisk-sdk/guides/app-development/configuration.html"><i class="icofont-double-left icofont-3x"></i>Configuring a blockchain application
    </a>
    </div><div>
      <a class="bottom-link" href="/documentation/lisk-sdk/guides/app-development/asset.html">Creating a custom asset<i class="icofont-double-right icofont-3x"></i>
      </a>
    </div>
  </div>






<!--{]> pagination}}-->
</article>
<aside class="article-aside hidden" role="navigation">
</aside>


<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
  </div>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2021 Lisk Foundation</span>
              <ul class="footer-links">
                <li><a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/contact" class="institutional-links-2-item">Contact</a></li>
              </ul>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Switzerland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../../../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://twitter.com/LiskHQ" title="Twitter" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://lisk.chat" title="Discord" target="_blank" class="footer__icon icon-discord"></a>
                <a href="https://www.reddit.com/r/Lisk/" title="Reddit" target="_blank" class="footer__icon icon-reddit"></a>
                <a href="https://www.facebook.com/LiskHQ" title="Facebook" target="_blank" class="footer__icon icon-facebook"></a>
            </div>
        </div>
    </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/top-versions.js"></script>
<script async src="../../../_/js/vendor/custom.js"></script>
  <script src="../../../_/js/vendor/docsearch.min.js"></script>
  <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
  <script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>

  </body>
</html>
