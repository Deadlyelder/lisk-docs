<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Broadcast a transaction - Lisk  SDK  Docs</title>
    <link rel="canonical" href="https://lisk.io/documentation/lisk-sdk/guides/app-development/broadcast.html">
    <meta name="description" content="This guide covers how to create a transaction object and broadcast it to the network.">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/site-extra.css">
      <link rel="stylesheet" href="../../../_/css/vendor/docsearch.min.css">
      <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NKNKGHL');</script>
<!-- End Google Tag Manager -->
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKNKGHL"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.io" title="Lisk.io" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">SDK</strong>
                        </span>
          <div class="top-versions page-versions">
  <button class="version-menu-toggle top-version-menu-toggle" title="Show other versions of page">5.0.0 (latest)</button>
  <div class="version-menu">
    <a class="version is-current" href="broadcast.html">5.0.0 (latest)</a>
    <a class="version" href="../../v4/guides/app-development/broadcast.html">4.0.0</a>
    <a class="version" href="../../v3/guides/app-development/broadcast.html">3.0.2</a>
    <a class="version is-missing" href="../../v2/index.html">2.3.8</a>
  </div>
</div>
          <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Documentations</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/">Lisk Service</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Resources</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href=""><strong>Lisk Service API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-service/references/api.html">Mainnet</a>
                <a class="navbar-item" href=""><strong>Lisk Core HTTP API</strong></a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/v3/reference/api.html">Betanet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api.html">Testnet</a>
                <a class="navbar-item" href="https://lisk.io/documentation/lisk-core/reference/api-mainnet.html">Mainnet</a>
                <hr class="navbar-divider">
                <a class="navbar-item" href=""><strong>Lisk Network Explorer</strong></a>
                <a class="navbar-item" target="_blank" href="https://testnet-explorer.lisk.io/">Testnet<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://explorer.lisk.io/">Mainnet<i class="icofont-external-link"></i></a>
              </div>
            </div>
          </div>
            <div class="navbar-menu search-box hide-for-print">
              <input id="search-input" type="text" placeholder="Search">
            </div>
        </div>
        <div class="navbar-item navbar-right">
<!--
          <a href="https://lisk.chat" title="Lisk Chat" target="_blank" class="footer__icon icon-discord-2x"></a>
-->
          <a href="https://github.com/LiskHQ" title="Lisk GitHub" target="_blank" class="footer__icon icon-github-2x"></a>
          <span class="control">
            <a class="button is-primary" target="_blank" title="Lisk Dev Forum" href="https://dev.lisk.io/">Get help</a>
          </span>
        </div>
      </div>
  </nav>
</header>
<div class="body-container">
  <div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../architecture/index.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../architecture/on-chain-architecture.html">On-chain architecture</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../architecture/off-chain-architecture.html">Off-chain architecture</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../architecture/communication-architecture.html">Communication architecture</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../tutorials/index.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../tutorials/hello-world.html">Hello World</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../node-management/index.html">Management guides</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../node-management/api-access.html">API access</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../node-management/logging.html">Logging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../references/lisk-commander/index.html">Lisk Commander</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/commands.html">Commands</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-commander/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../references/lisk-elements/index.html">Lisk Elements</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/api-client.html">API client</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/bft.html">BFT</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/chain.html">Chain</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/client.html">Client</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/codec.html">Codec</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/cryptography.html">Cryptography</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/db.html">DB</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/genesis.html">Genesis</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/p2p.html">P2P</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/passphrase.html">Passphrase</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/transaction-pool.html">Transaction pool</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/tree.html">Tree</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/utils.html">Utils</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-elements/validator.html">Validator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../references/lisk-framework/index.html">Lisk Framework</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-framework/config.html">Configuration reference</a>
  </li>
  <li class="nav-item single-page" data-depth="3">
    <a class="nav-link" href="../../references/lisk-framework/http-api-plugin.html">HTTP API plugin</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../protocol/index.html">Lisk SDK 5.0 protocol</a>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/accounts.html">Accounts</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/transactions.html">Transactions</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/blocks.html">Blocks</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/consensus-algorithm.html">Consensus algorithm</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/network.html">Network</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../../protocol/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">5.0.0 (latest)</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-core/index.html">2.1.6 (latest)</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v3/index.html">3.0.0-beta.2</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v3-beta.1/index.html">3.0.0-beta.1</a>
        </li>
        <li class="version">
          <a href="../../../lisk-core/v3-beta.0/index.html">3.0.0-beta.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">5.0.0 (latest)</a>
        </li>
        <li class="version">
          <a href="../../v4/index.html">4.0.0</a>
        </li>
        <li class="version">
          <a href="../../v3/index.html">3.0.2</a>
        </li>
        <li class="version">
          <a href="../../v2/index.html">2.3.8</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../lisk-service/index.html">0.1.0 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" title="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Lisk SDK</a></li>
    <li><a href="broadcast.html">Broadcast a transaction</a></li>
  </ul>
</nav>
  <div class="page-versions toolbar-versions">
  <button class="version-menu-toggle" title="Show other versions of page">5.0.0 (latest)</button>
  <div class="version-menu">
    <a class="version is-current" href="broadcast.html">5.0.0 (latest)</a>
    <a class="version" href="../../v4/guides/app-development/broadcast.html">4.0.0</a>
    <a class="version" href="../../v3/guides/app-development/broadcast.html">3.0.2</a>
    <a class="version is-missing" href="../../v2/index.html">2.3.8</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-sdk/modules/ROOT/pages/guides/app-development/broadcast.adoc"><i class="icofont-ui-edit"></i>Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Broadcast a transaction</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide explains how to create a transaction object of a specific transaction type, and how to broadcast it to the network.</p>
</div>
<div class="paragraph">
<p>To achieve this a small script in Javascript needs to be written, that utilizes <a href="../../references/lisk-elements/index.html" class="page">Lisk Elements packages</a> to create the transaction object, sign it, and send it to the network.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For the default transaction types, it is also possible to use Lisk Commander to <a href="../../references/lisk-commander/commands.html#create-tx" class="page">create</a> and <a href="../../references/lisk-commander/commands.html#broadcast-tx" class="page">broadcast transactions from the command-line</a> or <a href="https://lisk.io/wallet" target="_blank" rel="noopener">Lisk Desktop</a> to send a transaction via a user-friendly UI.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ensure that Node.js is the latest LTS (version 12 or higher), and create a Node.js project by creating a <code>package.json</code> file inside of your current folder.</p>
</div>
<div class="listingblock">
<div class="title">Install dependencies</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir create-tx
cd create-tx
node --version
# v12.15.0
npm init --yes
npm i @liskhq/lisk-transactions
npm i @liskhq/lisk-cryptography
npm i @liskhq/lisk-api-client</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, create a new file <code>index.js</code> that will contain the script to generate a transaction, sign it and posts it to the network.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See the full script at <a href="#post">3. Broadcast a transaction</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create"><a class="anchor" href="#create"></a>1. Create a transaction object</h2>
<div class="sectionbody">
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_default-transaction"></a>Default transaction</p>
</li>
<li>
<p><a id="tabset1_custom-transaction"></a>Custom transaction</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_default-transaction">
<div class="listingblock">
<div class="title">How to create a tx object with Lisk Elements</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const transactions = require('@liskhq/lisk-transactions');

const tx = new transactions.TransferTransaction({
    asset: {
        amount: '1',
        recipientId: '1L',
    },
    fee: '10000000',
    nonce: '0',
});

console.log(tx.stringify());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "asset": {
        "amount": "1",
        "recipientId": "1L"
    },
    "fee": "10000000",
    "nonce": "0",
    "senderId": "",
    "senderPublicKey": "",
    "signatures": [],
    "type": 8
}</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_custom-transaction">
<div class="paragraph">
<p>The <code>HelloTransaction</code> from the <a href="../index.html#hello_world_app" class="page">Hello World app</a> is used as an example here.</p>
</div>
<div class="listingblock">
<div class="title">How to create a custom tx object with Lisk Elements</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const HelloTransaction = require('../transactions/hello_transaction');

const tx = new HelloTransaction({
    asset: {
        hello: 'world',
    },
    fee: "10000000",
    nonce: "0",
});

console.log(tx.stringify());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "asset": {
        "hello": "world"
    },
    "fee": "10000000",
    "nonce": "0",
    "senderId": "",
    "senderPublicKey": "",
    "signatures": [],
    "type": 20
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="nonce"><a class="anchor" href="#nonce"></a>2. Get the nonce</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">How to get the current nonce of an account via API call</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const HelloTransaction = require('../transactions/hello_transaction');
const { APIClient } = require('@liskhq/lisk-api-client');
const API_BASEURL = 'http://localhost:4000';
const api = new APIClient([API_BASEURL]);

api.accounts.get({address: '5059876081639179984L'}).then(response =&gt; {

    const nonce = parseInt(response.data[0].nonce);
    const tx = new HelloTransaction({
        asset: {
            hello: 'world',
        },
        fee: "10000000",
        nonce: nonce,
    });

    console.log(tx.stringify());
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sign"><a class="anchor" href="#sign"></a>3. Sign a transaction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before any transaction can be send to the network, it is required for the sender account to sign the transaction object.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See the Lisk protocol for more information about the <a href="../../protocol/appendix.html#signature_scheme" class="page">signature scheme</a>.
</td>
</tr>
</table>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_default-transaction"></a>Default transaction</p>
</li>
<li>
<p><a id="tabset2_custom-transaction"></a>Custom transaction</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_default-transaction">
<div class="listingblock">
<div class="title">How to sign tx object with Lisk Elements</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const transactions = require('@liskhq/lisk-transactions');
const {getNetworkIdentifier} = require('@liskhq/lisk-cryptography');

const networkIdentifier = getNetworkIdentifier(
    "19074b69c97e6f6b86969bb62d4f15b888898b499777bda56a3a2ee642a7f20a",
    "Lisk",
);

const tx = new transactions.TransferTransaction({
    asset: {
        amount: '1',
        recipientId: '1L',
    },
    fee: '10000000',
    nonce: '0',});

tx.sign(
    networkIdentifier,
    'peanut hundred pen hawk invite exclude brain chunk gadget wait wrong ready'
);

console.log(tx.stringify());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "asset": {
        "amount": "1",
        "recipientId": "1L"
    },
    "fee": "10000000",
    "id": "8778308710378369285",
    "nonce": "0",
    "senderId": "11237980039345381032L",
    "senderPublicKey": "5c554d43301786aec29a09b13b485176e81d1532347a351aeafe018c199fd7ca",
    "signatures": [
        "5afdf01938e63fbe7187633df4bd403ed9faf664c03b2f886fe6c90733d0c8e15a69b280714a6b05ab88701f80e2cfa2c616c33a0bbfc787f87513e774412f0c"
    ],
    "type": 8
}</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_custom-transaction">
<div class="paragraph">
<p>The <code>HelloTransaction</code> from the <a href="../index.html#hello_world_app" class="page">Hello World app</a> is used as an example here.</p>
</div>
<div class="listingblock">
<div class="title">How to sign a custom tx object with Lisk Elements</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const HelloTransaction = require('../transactions/hello_transaction');
const {getNetworkIdentifier} = require('@liskhq/lisk-cryptography');

const networkIdentifier = getNetworkIdentifier(
    "19074b69c97e6f6b86969bb62d4f15b888898b499777bda56a3a2ee642a7f20a",
    "Lisk",
);

const tx = new HelloTransaction({
    asset: {
        hello: 'world',
    },
    fee: "10000000",
    nonce: "0",
});

tx.sign(
    networkIdentifier,
    'peanut hundred pen hawk invite exclude brain chunk gadget wait wrong ready'
);
console.log(tx.stringify());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "asset": {
        "hello": "world"
    },
    "fee": "10000000",
    "id": "9283551789433227429",
    "nonce": "0",
    "senderId": "16313739661670634666L",
    "senderPublicKey": "c094ebee7ec0c50ebee32918655e089f6e1a604b83bcaa760293c61e0f18ab6f",
    "signatures": [
        "ebb1c78e412b7cd83984e7633180ec1649bdb1e16db43759011b8567d78a47162d5209501a9462570dabeab6605412e7fc1f50db982b1f502c35f6a7daa69604"
    ],
    "type": 20
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fee"><a class="anchor" href="#fee"></a>4. Validate the fee</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">How to validate the fee for a transaction before sending it to a node</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const HelloTransaction = require('../hello_world/transactions/hello_transaction');
const { getNetworkIdentifier } = require("@liskhq/lisk-cryptography");
const networkIdentifier = getNetworkIdentifier(
    "19074b69c97e6f6b86969bb62d4f15b888898b499777bda56a3a2ee642a7f20a",
    "Lisk"
);

const tx = new HelloTransaction({
    asset: {
        hello: 'world',
    },
    fee: "10",
    nonce: "0",
});

tx.sign(
    networkIdentifier,
    "peanut hundred pen hawk invite exclude brain chunk gadget wait wrong ready"
);

// Validate that the fee for the transaction is equal or higher than the minimum fee.
if ( tx.minFee &gt; tx.fee) {
    console.log("Please provide a higher fee. Minimum fee for the current transaction: " + tx.minFee);
    console.dir(tx);
} else {
    console.log(tx.stringify());
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="post"><a class="anchor" href="#post"></a>5. Broadcast a transaction</h2>
<div class="sectionbody">
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_default-transaction"></a>Default transaction</p>
</li>
<li>
<p><a id="tabset3_custom-transaction"></a>Custom Transaction</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_default-transaction">
<div class="listingblock">
<div class="title">How to create, sign and post a transaction</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const transactions = require('@liskhq/lisk-transactions');
const {getNetworkIdentifier} = require('@liskhq/lisk-cryptography');
const { APIClient } = require('@liskhq/lisk-api-client');

// Constants
const API_BASEURL = 'http://localhost:4000'; <i class="conum" data-value="1"></i><b>(1)</b>
const networkIdentifier = getNetworkIdentifier(
    "19074b69c97e6f6b86969bb62d4f15b888898b499777bda56a3a2ee642a7f20a",
    "Lisk",
);

// Initialize
const api = new APIClient([API_BASEURL]);

const tx = new transactions.TransferTransaction({
    asset: {
        amount: '1',
        recipientId: '1L',
    },
    fee: '10000000',
    nonce: '103',});

tx.sign(
    networkIdentifier,
    'peanut hundred pen hawk invite exclude brain chunk gadget wait wrong ready'
);

api.transactions.broadcast(tx.toJSON()).then(res =&gt; {
    console.log("++++++++++++++++ API Response +++++++++++++++++");
    console.log(res.data);
    console.log("++++++++++++++++ Transaction Payload +++++++++++++++++");
    console.log(tx.stringify());
    console.log("++++++++++++++++ End Script +++++++++++++++++");
}).catch(err =&gt; {
    console.log(JSON.stringify(err.errors, null, 2));
});</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code><a href="http://localhost:4000" class="bare">http://localhost:4000</a></code> will post the transaction to a node that runs locally (this is indicated by the url <code><a href="http://localhost" class="bare">http://localhost</a></code>), and is connected to the Devnet (this is indicated by the port number <code>4000</code>).
Replace <code><a href="http://localhost:4000" class="bare">http://localhost:4000</a></code> with the url of the node, to which you want to broadcast the transaction.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">//++++++++++++++++ API Response +++++++++++++++++
{ message: 'Transaction(s) accepted' }
//++++++++++++++++ Transaction Payload +++++++++++++++++
{
   "id":"17387110868403092024",
   "type":8,
   "senderPublicKey":"0fe9a3f1a21b5530f27f87a414b549e79a940bf24fdf2b2f05e7f22aeeecc86a",
   "senderId":"5059876081639179984L",
   "nonce":"105",
   "fee":"10000000",
   "signatures":[
      "ee65a1b47c536463fa7b46d366246ae5aad4e1ecf05344bba92fcd2d1dd028bab36d98aefe35be4831e048cef258b20e785853f8f3f612d25cd41491f247030b"
   ],
   "asset":{
      "amount":"1",
      "recipientId":"1L"
   }
}
//++++++++++++++++ End Script +++++++++++++++++</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_custom-transaction">
<div class="paragraph">
<p>The <code>HelloTransaction</code> from the <a href="../index.html#hello_world_app" class="page">Hello World app</a> is used as an example here.</p>
</div>
<div class="listingblock">
<div class="title">How to create, sign and post a transaction</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const HelloTransaction = require('./transactions/hello_transaction.js');
const { getNetworkIdentifier } = require('@liskhq/lisk-cryptography');
const { APIClient } = require('@liskhq/lisk-api-client');

// Constants
const API_BASEURL = 'http://localhost:4000';
const networkIdentifier = getNetworkIdentifier(
    "19074b69c97e6f6b86969bb62d4f15b888898b499777bda56a3a2ee642a7f20a",
    "Lisk",
);

// Initialize
const api = new APIClient([API_BASEURL]);

const tx = new HelloTransaction({
    asset: {
        hello: 'world',
    },
    fee: "10000000",
    nonce: "0",});

tx.sign(
    networkIdentifier,
    'peanut hundred pen hawk invite exclude brain chunk gadget wait wrong ready'
);

api.transactions.broadcast(tx.toJSON()).then(res =&gt; {
    console.log("++++++++++++++++ API Response +++++++++++++++++");
    console.log(res.data);
    console.log("++++++++++++++++ Transaction Payload +++++++++++++++++");
    console.log(tx.stringify());
    console.log("++++++++++++++++ End Script +++++++++++++++++");
}).catch(err =&gt; {
    console.log(JSON.stringify(err.errors, null, 2));
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">//++++++++++++++++ API Response +++++++++++++++++
{ message: 'Transaction(s) accepted' }
//++++++++++++++++ Transaction Payload +++++++++++++++++
{
   "id":"14010199306117184554",
   "type":20,
   "senderPublicKey":"0fe9a3f1a21b5530f27f87a414b549e79a940bf24fdf2b2f05e7f22aeeecc86a",
   "senderId":"5059876081639179984L",
   "nonce":"104",
   "fee":"10000000",
   "signatures":[
      "56a17864d905fc96d2755f16d9c75088d23e88050e6958c21faf99c4cc3d09fb6889cee7551866f6568ae8fc730f4fd7175b17f143dda2ea842afe4ad051f004"
   ],
   "asset":{
      "hello":"world"
   }
}
//++++++++++++++++ End Script +++++++++++++++++</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-happens-to-a-transaction-after-a-node-received-it"><a class="anchor" href="#what-happens-to-a-transaction-after-a-node-received-it"></a>6. What happens to a transaction after a node received it?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The transaction will be <strong>validated</strong> by the node, and added to the transaction pool, if it is valid.
To validate the transaction, it will execute the logic defined in the <code>validateAsset()</code> method.</p>
</div>
<div class="paragraph">
<p>The node will also <strong>inform its peer nodes</strong> about the new transaction, so in turn all of them will validate the transaction and add it to their transaction pool as well.
If the transaction is added to the transaction pool of a forging node, the transaction will be included in one of the next new blocks, if it is not included already by another forger.</p>
</div>
<div class="paragraph">
<p><strong>Once the transaction is included into a block, it becomes part of the blockchain.</strong></p>
</div>
<div class="paragraph">
<p>By including a transaction into a block, the node executes the logic defined in the <code>applyAsset()</code> method of the transaction.</p>
</div>
<div class="paragraph">
<p><strong>To ensure that the transaction is final, it is recommended to wait for at least 150 blocks.</strong></p>
</div>
<div class="paragraph">
<p>It is possible to verify the finality of a particular transaction via the <a href="#references/api-specification.adoc" class="page unresolved">API</a>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>GET <code>api/node/status</code> to receive the node status data.
It should contain a property <code>chainMaxHeightFinalized</code> which describes the highest block height of the network, that is already finalized.</p>
</li>
<li>
<p>GET <code>api/transactions?id=&lt;TRANSACTION_ID&gt;</code> to receive the data of the transaction that you want to check for finality.
Replace <code>&lt;TRANSACTION_ID&gt;</code> with the ID of the transaction.
The data should contain a property <code>height</code>, which indicates the block height at the time, the transaction got includes into the blockchain.</p>
</li>
<li>
<p>All that is needed to do now, is to compare the two values: The transaction is final, if <code>chainMaxHeightFinalized &gt; height</code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a transaction is finalized, it becomes a permanent part of the blockchain, and cannot be removed anymore.
</td>
</tr>
</table>
</div>
</div>
</div>
    <div class="bottom-links">
    <div>
      <a class="bottom-link" href="/documentation"><i class="icofont-double-left icofont-3x"></i>
    </a>
    </div><div>
      <a class="bottom-link" href="/documentation"><i class="icofont-double-right icofont-3x"></i>
      </a>
    </div>
  </div>






<!--{]> pagination}}-->
</article>
<aside class="article-aside hidden" role="navigation">
</aside>


<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
  </div>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2020 Lisk Foundation</span>
              <ul class="footer-links">
                <li><a class="institutional-links-2__item" href="https://lisk.io/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/privacy" class="institutional-links-2-item">Privacy Policy</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.io/contact" class="institutional-links-2-item">Contact</a></li>
              </ul>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Switzerland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../../../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://twitter.com/LiskHQ" title="Twitter" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://lisk.chat" title="Discord" target="_blank" class="footer__icon icon-discord"></a>
                <a href="https://www.reddit.com/r/Lisk/" title="Reddit" target="_blank" class="footer__icon icon-reddit"></a>
                <a href="https://www.facebook.com/LiskHQ" title="Facebook" target="_blank" class="footer__icon icon-facebook"></a>
            </div>
        </div>
    </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../../_/js/vendor/top-versions.js"></script>
<script async src="../../../_/js/vendor/custom.js"></script>
  <script src="../../../_/js/vendor/docsearch.min.js"></script>
  <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
  <script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>

  </body>
</html>
